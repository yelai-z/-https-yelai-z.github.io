(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{235:function(e,a,s){"use strict";s.r(a);var t=s(0),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"vscode插件开发1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vscode插件开发1","aria-hidden":"true"}},[e._v("#")]),e._v(" vscode插件开发1")]),e._v(" "),s("h2",{attrs:{id:"初始化项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目","aria-hidden":"true"}},[e._v("#")]),e._v(" 初始化项目")]),e._v(" "),s("p",[e._v("官方文档:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("https://code.visualstudio.com/api/get-started/your-first-extension\n")])])]),s("p",[e._v("下载yeoman的vscode插件脚手架：")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm install -g yo generator-code\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yo code\n\n# ? What type of extension do you want to create? New Extension (JavaScript)\n# ? What's the name of your extension? HelloWorld\n### Press <Enter> to choose default for all options below ###\n\n# ? What's the identifier of your extension? helloworld\n# ? What's the description of your extension? LEAVE BLANK\n# ? Initialize a git repository? Yes\n# ? Which package manager to use? npm\n\ncode ./helloworld\n")])])]),s("p",[e._v("使用vscode打开项目，切换到调试面板，点击F5，在新vscode窗口中按键"),s("code",[e._v("shift+command+p")]),e._v("打开命令面板，输入hellow，就可以看见右下角弹窗：“hello world”")]),e._v(" "),s("h2",{attrs:{id:"项目目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目目录结构","aria-hidden":"true"}},[e._v("#")]),e._v(" 项目目录结构")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("your-project\n├── vsc-extension-quickstart.md            // 测试脚本\n├── .eslintrc.json                         // eslint配置\n├── .gitignore                             // gitignore配置\n├── CHANGELOG.md                           // 最新修改说明\n├── extension.js                           // 插件入口\n├── jsconfig.json                          // 项目配置\n├── package-lock.json                      // package-lock\n├── package.json                           // package\n├── README.md                              // 插件细节说明\n├── test                                   // 测试目录\n      ├── extension.test.js\n      └── index.js    \n└── image                                  // 图片目录\n      └── icon.png                         // 图标\n\n")])])]),s("p",[s("strong",[e._v("说明:")])]),e._v(" "),s("ol",[s("li",[e._v("README.md写整个插件的功能，对应vscode插件使用页面的“细节”一栏，不能有http的链接")]),e._v(" "),s("li",[e._v("CHANGELOG.md写最新更新的功能，对应vscode插件使用页面的“更改日志”一栏，不能有http的链接")]),e._v(" "),s("li",[e._v("主要功能在package.json中配置，在extension.js("),s("code",[e._v("对应package.json中的main字段")]),e._v(")中编写逻辑")])]),e._v(" "),s("h2",{attrs:{id:"package-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json","aria-hidden":"true"}},[e._v("#")]),e._v(" package.json")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n")])])]),s("h2",{attrs:{id:"extension-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extension-js","aria-hidden":"true"}},[e._v("#")]),e._v(" extension.js")]),e._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[e._v("\n")])])]),s("h2",{attrs:{id:"发布流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布流程","aria-hidden":"true"}},[e._v("#")]),e._v(" 发布流程")]),e._v(" "),s("h4",{attrs:{id:"即使本地打包也需要注册微软azure-devops账号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#即使本地打包也需要注册微软azure-devops账号","aria-hidden":"true"}},[e._v("#")]),e._v(" 即使本地打包也需要注册微软"),s("em",[e._v("Azure DevOps")]),e._v("账号")]),e._v(" "),s("ol",[s("li",[e._v("访问"),s("a",{attrs:{href:"https://aka.ms/SignupAzureDevOps",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://aka.ms/SignupAzureDevOps "),s("OutboundLink")],1),e._v("，注册账号")]),e._v(" "),s("li",[e._v("进入主页，点击右上角个人头像，然后点击==Security==")]),e._v(" "),s("li",[e._v("点击创建新的个人访问令牌，这里特别要注意Organization要选择all accessible organizations，Scopes要选择Full access，否则后面发布会失败。")]),e._v(" "),s("li",[e._v("创建令牌之后生成一个token，需要本地手动保存。")])]),e._v(" "),s("h4",{attrs:{id:"打包流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包流程","aria-hidden":"true"}},[e._v("#")]),e._v(" 打包流程")]),e._v(" "),s("p",[e._v("安装vsce")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm i vsce -g\n")])])]),s("p",[e._v("创建新发布者")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("vsce create-publisher your-publisher-name\n")])])]),s("p",[e._v("然后根据提示依次输入昵称、Azure DevOps注册邮箱、Azure DevOps的token")]),e._v(" "),s("p",[e._v("如果已经有了发布者账号，可以直接登陆")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("vsce login your-publisher-name\n")])])]),s("p",[e._v("进入项目目录下，执行打包命令")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("vsce package\n")])])]),s("p",[e._v("然后会在项目目录下生成vsix文件："),s("strong",[e._v(e._s(e.name)+"-"+e._s(e.version)+".vsix")])]),e._v(" "),s("p",[e._v("从vscode插件面板右上角 ··· 中选择"),s("strong",[e._v("从VSIX安装")]),e._v("。即可使用")]),e._v(" "),s("p",[e._v("发布线上")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("vsce publish\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);